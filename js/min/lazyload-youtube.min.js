!function(t,$,e){var i="preview-youtube",o="lazyload-info-icon",n="."+o,a=.5625,r="";t.init=function(t){s(t),$(document).ready(c()).ajaxStop(function(){c()}),"function"==typeof d.init&&l.responsive===!0&&d.init(),"function"==typeof l.callback&&l.callback()};var l,s=function(t){l=$.extend({theme:"dark",colour:"red",controls:!0,loadpolicy:!0,showinfo:!0,relations:!0,buttonstyle:"",preroll:"",postroll:"",videoseo:!1,responsive:!0,thumbnailquality:"0",callback:null},t)},c=function(){$("a.lazy-load-youtube").each(function(t){var s=this,c=function(){var t=$(s).attr("href").split("/embed/")[1];return t||(t=$(s).attr("href").split("://youtu.be/")[1]),t||(t=$(s).attr("href").split("v=")[1].replace(/\&/,"?")),t},u=c(),p=function(){return u.split("?")[0].split("#")[0]},h=p(),f=function(){var t="";return l.preroll!==t&&l.preroll!==e?l.preroll:u},v=f(),m=u.match(/[#&]t=(\d+)s/);m?m=m[1]:(m=u.match(/[#&]t=(\d+)m(\d+)s/),m?m=60*parseInt(m[1])+parseInt(m[2]):(m=u.match(/[?&]start=(\d+)/),m&&(m=m[1])));var y="//www.youtube.com/embed/"+f(),b=function(){return'<a class="'+o+'" href="http://kevinw.de/lazy-load-videos/" title="Lazy Load for Videos by Kevin Weber" target="_blank">i</a>'},w=function(){if(l.displayBranding!==!1&&0===$(s).siblings(n).length){var t=$(s),e=$(b());t.before(e)}};w();var g=function(){return $(s).attr("video-title")!==e?$(s).attr("video-title"):""!==$(this).html()&&$(this).html()!==e?$(this).html():""},z=function(t){return"//www.youtube.com/watch?v="+t},k=function(t){var e=parseInt(t.css("width"))-4;return e},x=function(t){var e=0;if(l.responsive===!1)e=parseInt(t.css("height"))-4;else{var i=k(t);e=Math.round(i*a)}return e};u=u.split("#")[0],m&&-1===u.indexOf("start=")&&(u+=(-1===u.indexOf("?")?"?":"&")+"start="+m);var I="";l.videoseo===!0&&(I=' itemprop="name"'),$(this).html(-1!==u.indexOf("showinfo=0")?"":'<div class="lazy-load-youtube-info"><span class="titletext youtube"'+I+">"+g()+"</span></div>"),$(this).prepend('<div style="height:'+x($(this))+"px;width:"+k($(this))+'px;" class="lazy-load-youtube-div"></div>').addClass(l.buttonstyle);var _=function(t){var e="//i2.ytimg.com/vi/"+t+"/"+l.thumbnailquality+".jpg";r=e};_(h);var j=function(){return r};$(this).css("background","#000 url("+j()+") center center no-repeat"),l.videoseo===!0&&($(s).append('<meta itemprop="contentLocation" content="'+z(h)+'" />'),$(s).append('<meta itemprop="embedUrl" content="'+y+'" />'),$(this).append('<meta itemprop="thumbnail" content="'+j()+'" />'),$.getJSON("http://gdata.youtube.com/feeds/api/videos/"+h+"?v=2&alt=jsonc&callback=?",function(t){$(s).append('<meta itemprop="datePublished" content="'+t.data.uploaded+'" />'),$(s).append('<meta itemprop="duration" content="'+t.data.duration+'" />'),$(s).append('<meta itemprop="aggregateRating" content="'+t.data.rating+'" />')})),$(this).attr("id",h+t),$(this).attr("href",z(h)+(m?"#t="+m+"s":""));var O="";l.theme!==O&&l.theme!==e&&"dark"!==l.theme&&(O="&theme="+l.theme);var L="";l.colour!==L&&l.colour!==e&&"red"!==l.colour&&(L="&color="+l.colour);var q="";l.showinfo||(q="&showinfo=0");var C="";l.relations||(C="&rel=0");var F="";l.controls||(F="&controls=0");var M="";l.loadpolicy||(M="&iv_load_policy=3"),v=v!==h?h+",":"";var S="";l.postroll!==S&&l.postroll!==e&&(S=l.postroll);var W="";(""!==v||""!==S)&&(W="&playlist="+v+S),y+=(-1===y.indexOf("?")?"?":"&")+"autoplay=1"+O+L+F+M+q+C+W;var B='<iframe width="'+parseInt($(this).css("width"))+'" height="'+parseInt($(this).css("height"))+'" style="vertical-align:top;" src="'+y+'" frameborder="0" allowfullscreen></iframe>';$(this).on("click",function(){return J(this),K(this),$("#"+h+t).replaceWith(B),"function"==typeof d.resize&&l.responsive===!0&&d.resize(),!1});var J=function(t){$(t).removeClass(i)},K=function(t){$(t).prev(n).remove()}})};$.fn.bindFirst=function(t,e){var i=$(this);i.unbind(t,e),i.bind(t,e);var o=$._data(i[0]).events,n=o[t];n.unshift(n.pop()),o[t]=n};var d={config:{container:$(".container-lazyload"),selector:"object, embed, iframe, .preview-lazyload, .lazy-load-youtube-div, .lazy-load-vimeo-div"},init:function(){d.config.container.length>0&&($(window).on("resize",d.resize),$(window).bindFirst("load",function(){d.resize()}),$(window).on("load",function(){d.resize()}))},resize:function(){$(d.config.selector,d.config.container).each(function(){var t=$(this),e=t.parent().width(),i=Math.round(e*a);t.attr("height",i),t.attr("width",e),t.css({height:i,width:e})})}}}(window.lazyload_youtube=window.lazyload_youtube||{},jQuery);